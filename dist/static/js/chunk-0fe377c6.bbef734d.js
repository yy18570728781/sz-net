(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fe377c6"],{1148:function(t,e,a){"use strict";var r=a("a691"),o=a("1d80");t.exports="".repeat||function(t){var e=String(o(this)),a="",n=r(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(a+=e);return a}},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"2fdb":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userCredit app-container"},[a("div",{staticClass:"flex-box"},[a("div",{staticClass:"item"},[a("el-select",{staticClass:"select",attrs:{placeholder:"Please select time"},on:{change:t.selectChange},model:{value:t.searchFrom.showDate,callback:function(e){t.$set(t.searchFrom,"showDate",e)},expression:"searchFrom.showDate"}},t._l(t.dataList,(function(t){return a("el-option",{key:t.showDate,attrs:{label:t.showDate,value:t.showDate}})})),1)],1),a("div",{staticClass:"item"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addCom}},[t._v("添加")])],1),a("div",{staticClass:"item item1"},[a("el-input",{attrs:{placeholder:"输入关键字搜索"},on:{input:t.searchTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",[a("div",{staticClass:"Pdiv"},[a("div",{staticClass:"Cdiv"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"filterTable",attrs:{data:t.pointList.filter((function(e){return!t.search||e.note.toLowerCase().includes(t.search.toLowerCase())||e.amount.toLowerCase().includes(t.search.toLowerCase())||e.createdDate.toLowerCase().includes(t.search.toLowerCase())})),"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":"","default-sort":{}}},[a("el-table-column",{attrs:{label:"备注",align:"center",prop:"note",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.tag?a("span",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[t._v("总计")]):a("span",[t._v(t._s(e.row.note)+" ")])]}}])}),a("el-table-column",{attrs:{label:"金额 ",align:"center",prop:"amount","sort-by":"amount",sortable:""}}),a("el-table-column",{attrs:{label:"时间",align:"center",prop:"createdDate",sortable:""}}),a("el-table-column",{attrs:{label:"操作",align:"center",prop:"",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.tag?t._e():a("el-button",{attrs:{type:"danger",icon:"el-icon-delete-solid",circle:""},on:{click:function(a){return t.delCompany(e.row)}}})]}}])})],1),a("div",{staticClass:"footer_div"},[a("div",[t._v("总计")]),t._l(t.countList,(function(e,r){return a("div",{key:r},[t._v(t._s(e))])}))],2)],1)]),a("el-dialog",{attrs:{title:t.companyTitle,visible:t.dialogComVisible,width:"40%"},on:{"update:visible":function(e){t.dialogComVisible=e}}},[a("el-form",{attrs:{model:t.searchFrom}},[a("el-form-item",{attrs:{label:"备注","label-width":"120px"}},[a("el-input",{attrs:{type:"textarea",maxlength:"500",autocomplete:"off"},model:{value:t.searchFrom.note,callback:function(e){t.$set(t.searchFrom,"note",e)},expression:"searchFrom.note"}})],1),a("el-form-item",{attrs:{label:"金额","label-width":"120px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.searchFrom.amount,callback:function(e){t.$set(t.searchFrom,"amount",e)},expression:"searchFrom.amount"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.butLoading,expression:"butLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:t.Rebate}},[t._v("确 定")])],1)],1)],1)])},o=[],n=a("c7eb"),s=a("1da1"),i=(a("ac1f"),a("00b4"),a("c740"),a("841c"),a("4de4"),a("d3b7"),a("caad"),a("2532"),a("159b"),a("a9e3"),a("b680"),a("25f0"),a("8194")),c={name:"userCredit",components:{},data:function(){return{listLoading:!1,searchFrom:{fromDate:"",toDate:"",showDate:"",note:"",amount:""},formRow:{},dataList:[],nowGame:"",gameList:[],DetDialog:!1,gametxnId:"",gameCode:"",butLoading:!1,companyTitle:"",dialogComVisible:!1,pointList:[],temList:[],currentPage:1,totalCount:1,pageSizes:[5,10,20,30],PageSize:10,count:{},countList:[],search:"",searchList:[]}},created:function(){var t=this;return Object(s["a"])(Object(n["a"])().mark((function e(){var a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=JSON.parse(localStorage.getItem("userInfo")),t.userInfo=a,Object(i["r"])().then((function(e){0==e.code&&(t.dataList=e.data,t.searchFrom.showDate=t.dataList[0].showDate,t.searchFrom.fromDate=t.dataList[0].fromDate,t.searchFrom.toDate=t.dataList[0].toDate,t.getList())}));case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){},methods:{addCom:function(){this.companyTitle="新增",this.searchFrom.note="",this.searchFrom.amount="",this.dialogComVisible=!0},Rebate:function(){var t=this;if(/^(0\.\d{0,1}[1-9]|\+?[1-9][0-9]{0,6})(\.\d{1,2})?$/.test(this.searchFrom.amount)&&this.searchFrom.note){var e=this.searchFrom,a=e.fromDate,r=e.toDate,o=e.note,n=e.amount;Object(i["b"])({fromDate:a,toDate:r,note:o,amount:n}).then((function(e){""==e.data.remark||"success"==e.data.status?(t.$message({type:"success",message:e.message}),t.dialogComVisible=!1,t.searchFrom.note="",t.searchFrom.amount="",t.getList()):t.$message({type:"error",message:e.data.remark})}))}else this.$message({type:"info",message:"备注必填最多500 字节，金额最多七位数,允许包含2位小数"})},delCompany:function(t){var e=this;this.$confirm("确认删除吗","删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i["e"])({expensestxnId:t.expensestxnId}).then((function(t){""==t.data.remark||"success"==t.data.status?(e.$message({type:"success",message:t.message}),e.getList()):e.$message({type:"error",message:t.data.remark})}))}))},selectChange:function(t){var e=this.dataList.findIndex((function(e,a){return e.showDate==t}));this.searchFrom.fromDate=this.dataList[e].fromDate,this.searchFrom.toDate=this.dataList[e].toDate,this.getList()},getTemList:function(){},searchTable:function(){var t=this;if(""==this.search);else{this.searchList=this.pointList.filter((function(e){return!t.search||e.note.toLowerCase().includes(t.search.toLowerCase())||e.amount.toLowerCase().includes(t.search.toLowerCase())||e.createdDate.toLowerCase().includes(t.search.toLowerCase())}));var e=0,a="";this.searchList.forEach((function(t){e+=Number(t.amount)})),e=Number(e).toFixed(2),e=e.toString(),this.countList=[e,a,""]}},getList:function(){var t=this;this.currentPage=1,this.nowGame=this.searchFrom.gameCode,this.butLoading=!0;if(this.searchFrom.fromDate&&this.searchFrom.toDate){this.listLoading=!0;var e=this.searchFrom,a=e.fromDate,r=e.toDate;e.gameCode;Object(i["j"])({fromDate:a,toDate:r}).then(function(){var e=Object(s["a"])(Object(n["a"])().mark((function e(a){var r,o,s,i;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.butLoading=!1,t.pointList=a.data,r="",o=0,s="",i=!0,t.pointList.forEach((function(t){o+=Number(t.amount)})),o=Number(o).toFixed(2),o=o.toString(),t.count={note:r,amount:o,createdDate:s,tag:i},e.next=12,t.getTemList();case 12:t.countList=[o,s,""],t.totalCount=a.data.length,t.listLoading=!1;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}else this.listLoading=!1,this.butLoading=!1,this.$message({type:"info",message:"Please select time"})}}},l=c,u=(a("ae8a"),a("2877")),d=Object(u["a"])(l,r,o,!1,null,"5ba05a72",null);e["default"]=d.exports},"408a":function(t,e,a){var r=a("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},"558a":function(t,e,a){},"841c":function(t,e,a){"use strict";var r=a("d784"),o=a("825a"),n=a("1d80"),s=a("129f"),i=a("14c3");r("search",1,(function(t,e,a){return[function(e){var a=n(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,a):new RegExp(e)[t](String(a))},function(t){var r=a(e,t,this);if(r.done)return r.value;var n=o(t),c=String(this),l=n.lastIndex;s(l,0)||(n.lastIndex=0);var u=i(n,c);return s(n.lastIndex,l)||(n.lastIndex=l),null===u?-1:u.index}]}))},a9e3:function(t,e,a){"use strict";var r=a("83ab"),o=a("da84"),n=a("94ca"),s=a("6eeb"),i=a("5135"),c=a("c6b6"),l=a("7156"),u=a("c04e"),d=a("d039"),f=a("7c73"),h=a("241c").f,m=a("06cf").f,g=a("9bf2").f,p=a("58a8").trim,b="Number",v=o[b],w=v.prototype,L=c(f(w))==b,x=function(t){var e,a,r,o,n,s,i,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=p(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+l}for(n=l.slice(2),s=n.length,i=0;i<s;i++)if(c=n.charCodeAt(i),c<48||c>o)return NaN;return parseInt(n,r)}return+l};if(n(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var C,F=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof F&&(L?d((function(){w.valueOf.call(a)})):c(a)!=b)?l(new v(x(e)),a,F):x(e)},D=r?h(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;D.length>I;I++)i(v,C=D[I])&&!i(F,C)&&g(F,C,m(v,C));F.prototype=w,w.constructor=F,s(o,b,F)}},ae8a:function(t,e,a){"use strict";a("558a")},b680:function(t,e,a){"use strict";var r=a("23e7"),o=a("a691"),n=a("408a"),s=a("1148"),i=a("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,a){return 0===e?a:e%2===1?u(t,e-1,a*t):u(t*t,e/2,a)},d=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},f=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){c.call({})}));r({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,a,r,i,c=n(this),f=o(t),h=[0,0,0,0,0,0],m="",g="0",p=function(t,e){var a=-1,r=e;while(++a<6)r+=t*h[a],h[a]=r%1e7,r=l(r/1e7)},b=function(t){var e=6,a=0;while(--e>=0)a+=h[e],h[e]=l(a/t),a=a%t*1e7},v=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==h[t]){var a=String(h[t]);e=""===e?a:e+s.call("0",7-a.length)+a}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m="-",c=-c),c>1e-21)if(e=d(c*u(2,69,1))-69,a=e<0?c*u(2,-e,1):c/u(2,e,1),a*=4503599627370496,e=52-e,e>0){p(0,a),r=f;while(r>=7)p(1e7,0),r-=7;p(u(10,r,1),0),r=e-1;while(r>=23)b(1<<23),r-=23;b(1<<r),p(1,1),b(2),g=v()}else p(0,a),p(1<<-e,0),g=v()+s.call("0",f);return f>0?(i=g.length,g=m+(i<=f?"0."+s.call("0",f-i)+g:g.slice(0,i-f)+"."+g.slice(i-f))):g=m+g,g}})},c740:function(t,e,a){"use strict";var r=a("23e7"),o=a("b727").findIndex,n=a("44d2"),s=a("ae40"),i="findIndex",c=!0,l=s(i);i in[]&&Array(1)[i]((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!l},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(i)}}]);