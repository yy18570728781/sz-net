(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d1aee13e"],{"016c":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userCredit app-container"},[a("div",{staticClass:"flex-box"},[a("div",{staticClass:"item"},[a("el-select",{staticClass:"select",attrs:{placeholder:"Please select time"},on:{change:t.selectChange},model:{value:t.searchFrom.showDate,callback:function(e){t.$set(t.searchFrom,"showDate",e)},expression:"searchFrom.showDate"}},t._l(t.dataList,(function(t){return a("el-option",{key:t.showDate,attrs:{label:t.showDate,value:t.showDate}})})),1)],1),a("div",{staticClass:"item"},[a("el-button",{attrs:{type:"primary"},on:{click:t.getFenTong}},[t._v("分桶额")])],1)]),a("div",[a("div",{staticClass:"Pdiv"},[a("div",{staticClass:"Cdiv"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"filterTable",attrs:{data:t.pointList,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":"","default-sort":{}}},[a("el-table-column",{attrs:{label:"项目 ",align:"center",prop:"item","sort-by":"item"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.item?a("span",[t._v(t._s(e.row.item))]):a("span",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[t._v("总计")])]}}])}),a("el-table-column",{attrs:{label:"现金",align:"center",prop:"cashAmount"}}),a("el-table-column",{attrs:{label:"信用",align:"center",prop:"creditAmount"}}),a("el-table-column",{attrs:{label:"共计",align:"center",prop:"totalAmount"}})],1),a("div",{staticClass:"footer_div"},[a("div",[t._v("总计")]),t._l(t.countList,(function(e,i){return a("div",{key:i},[t._v(t._s(e))])}))],2)],1)]),a("el-dialog",{attrs:{title:"分桶额",visible:t.FTvzb,width:"40%"},on:{"update:visible":function(e){t.FTvzb=e}}},[a("el-form",{attrs:{model:t.searchFrom}},[a("el-form-item",{attrs:{label:"分桶额","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.FTValue,callback:function(e){t.FTValue=e},expression:"FTValue"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.editFT}},[t._v("确 定")])],1)],1)],1)])},r=[],o=a("c7eb"),n=a("1da1"),s=(a("c740"),a("ac1f"),a("00b4"),a("fb6a"),a("d3b7"),a("159b"),a("a9e3"),a("b680"),a("8194")),c={name:"userCredit",components:{},data:function(){return{listLoading:!1,searchFrom:{userInfo:JSON.parse(localStorage.getItem("userInfo")),fromDate:"",toDate:"",showDate:"",userType:""},DetailFrom:{},dataList:[],nowGame:"",gameList:[],DetDialog:!1,gametxnId:"",gameCode:"",butLoading:!1,FTvzb:!1,FTValue:"",pointList:[],temList:[],currentPage:1,totalCount:1,pageSizes:[5,10,20,30],PageSize:10,count:{},countList:[]}},created:function(){var t=this;return Object(n["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=JSON.parse(localStorage.getItem("userInfo")),t.userInfo=a,Object(s["r"])().then((function(e){0==e.code&&(t.dataList=e.data,t.searchFrom.showDate=t.dataList[0].showDate,t.searchFrom.fromDate=t.dataList[0].fromDate,t.searchFrom.toDate=t.dataList[0].toDate,t.getList())}));case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){},methods:{selectChange:function(t){var e=this.dataList.findIndex((function(e,a){return e.showDate==t}));this.searchFrom.fromDate=this.dataList[e].fromDate,this.searchFrom.toDate=this.dataList[e].toDate,this.getList()},getFenTong:function(){var t=this,e=this.searchFrom,a=e.fromDate,i=e.toDate;e.gameCode;this.FTvzb=!0,Object(s["k"])({fromDate:a,toDate:i}).then((function(e){t.FTValue=e.data.amount}))},editFT:function(){var t=this,e=this.searchFrom,a=e.fromDate,i=e.toDate;e.gameCode;/^(0\.\d{0,1}[0-9]|\+?[0-9][0-9]{0,6})(\.\d{1,2})?$/.test(this.FTValue)?Object(s["c"])({fromDate:a,toDate:i,amount:this.FTValue}).then((function(e){""==e.data.remark||"success"==e.data.status?(t.$message({type:"success",message:e.message}),t.getList(),t.FTvzb=!1):t.$message({type:"error",message:e.data.remark})})):(this.butLoading=!1,this.$message({type:"info",message:"只能填写最多7位数整数，限2位小数"}))},changeShow:function(t){this.gametxnId=t.gametxnId,this.gameCode=t.gameCode,this.DetDialog=!0,this.$refs.detail.getList(this.gametxnId,this.gameCode,this.searchFrom.fromDate,this.searchFrom.toDate,this.nowGame)},changeDetDialog:function(t){this.DetDialog=t},handleSizeChange:function(t){this.PageSize=t,this.currentPage=1,this.getTemList()},handleCurrentChange:function(t){this.currentPage=t,this.getTemList()},getTemList:function(){this.temList=this.pointList.slice((this.currentPage-1)*this.PageSize,this.currentPage*this.PageSize)},getList:function(){var t=this;this.currentPage=1,this.nowGame=this.searchFrom.gameCode,this.butLoading=!0;if(this.searchFrom.fromDate&&this.searchFrom.toDate){this.listLoading=!0;var e=this.searchFrom,a=e.fromDate,i=e.toDate;e.gameCode;Object(s["i"])({fromDate:a,toDate:i}).then((function(e){t.butLoading=!1,t.pointList=e.data;var a=0,i=0,r=0;t.pointList.forEach((function(t){a+=Number(t.cashAmount),i+=Number(t.creditAmount),r+=Number(t.totalAmount)})),a=Number(a).toFixed(2),i=Number(i).toFixed(2),r=Number(r).toFixed(2),t.count={cashAmount:a,creditAmount:i,totalAmount:r},t.getTemList(),t.countList=[a,i,r],t.totalCount=e.data.length,t.listLoading=!1}))}else this.$message({type:"info",message:"Please select time"})}}},l=c,u=(a("d520"),a("2877")),h=Object(u["a"])(l,i,r,!1,null,"2abc1461",null);e["default"]=h.exports},1148:function(t,e,a){"use strict";var i=a("a691"),r=a("1d80");t.exports="".repeat||function(t){var e=String(r(this)),a="",o=i(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(a+=e);return a}},"2e79":function(t,e,a){},"408a":function(t,e,a){var i=a("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},a9e3:function(t,e,a){"use strict";var i=a("83ab"),r=a("da84"),o=a("94ca"),n=a("6eeb"),s=a("5135"),c=a("c6b6"),l=a("7156"),u=a("c04e"),h=a("d039"),d=a("7c73"),f=a("241c").f,m=a("06cf").f,g=a("9bf2").f,b=a("58a8").trim,p="Number",v=r[p],F=v.prototype,D=c(d(F))==p,w=function(t){var e,a,i,r,o,n,s,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=b(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+l}for(o=l.slice(2),n=o.length,s=0;s<n;s++)if(c=o.charCodeAt(s),c<48||c>r)return NaN;return parseInt(o,i)}return+l};if(o(p,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var L,I=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof I&&(D?h((function(){F.valueOf.call(a)})):c(a)!=p)?l(new v(w(e)),a,I):w(e)},N=i?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;N.length>x;x++)s(v,L=N[x])&&!s(I,L)&&g(I,L,m(v,L));I.prototype=F,F.constructor=I,n(r,p,I)}},b680:function(t,e,a){"use strict";var i=a("23e7"),r=a("a691"),o=a("408a"),n=a("1148"),s=a("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,a){return 0===e?a:e%2===1?u(t,e-1,a*t):u(t*t,e/2,a)},h=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},d=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}));i({target:"Number",proto:!0,forced:d},{toFixed:function(t){var e,a,i,s,c=o(this),d=r(t),f=[0,0,0,0,0,0],m="",g="0",b=function(t,e){var a=-1,i=e;while(++a<6)i+=t*f[a],f[a]=i%1e7,i=l(i/1e7)},p=function(t){var e=6,a=0;while(--e>=0)a+=f[e],f[e]=l(a/t),a=a%t*1e7},v=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==f[t]){var a=String(f[t]);e=""===e?a:e+n.call("0",7-a.length)+a}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m="-",c=-c),c>1e-21)if(e=h(c*u(2,69,1))-69,a=e<0?c*u(2,-e,1):c/u(2,e,1),a*=4503599627370496,e=52-e,e>0){b(0,a),i=d;while(i>=7)b(1e7,0),i-=7;b(u(10,i,1),0),i=e-1;while(i>=23)p(1<<23),i-=23;p(1<<i),b(1,1),p(2),g=v()}else b(0,a),b(1<<-e,0),g=v()+n.call("0",d);return d>0?(s=g.length,g=m+(s<=d?"0."+n.call("0",d-s)+g:g.slice(0,s-d)+"."+g.slice(s-d))):g=m+g,g}})},c740:function(t,e,a){"use strict";var i=a("23e7"),r=a("b727").findIndex,o=a("44d2"),n=a("ae40"),s="findIndex",c=!0,l=n(s);s in[]&&Array(1)[s]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!l},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},d520:function(t,e,a){"use strict";a("2e79")}}]);