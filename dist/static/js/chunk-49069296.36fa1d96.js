(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49069296"],{"47d0":function(e,t,r){},8190:function(e,t,r){"use strict";r("47d0")},c24f:function(e,t,r){"use strict";r.d(t,"i",(function(){return o})),r.d(t,"f",(function(){return a})),r.d(t,"o",(function(){return i})),r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return s})),r.d(t,"n",(function(){return u})),r.d(t,"p",(function(){return c})),r.d(t,"a",(function(){return d})),r.d(t,"m",(function(){return b})),r.d(t,"h",(function(){return p})),r.d(t,"e",(function(){return f})),r.d(t,"k",(function(){return m})),r.d(t,"l",(function(){return g})),r.d(t,"d",(function(){return h})),r.d(t,"g",(function(){return w})),r.d(t,"j",(function(){return C}));var n=r("b775");function o(){return Object(n["a"])({url:"/WebC/api/Profile",method:"get"})}function a(){return Object(n["a"])({url:"/WebC/api/Downline",method:"get"})}function i(e){return Object(n["a"])({url:"/WebC/api/UpdateRebate",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/WebC/api/TopupTxn",method:"get",params:e})}function s(e){return Object(n["a"])({url:"/WebC/api/DownlineCreditTxn",method:"get",params:e})}function u(e){return Object(n["a"])({url:"/WebC/api/TopupPoint",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/WebC/api/WithdrawPoint",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/WebC/api/AddCredit",method:"post",data:e})}function b(e){return Object(n["a"])({url:"/WebC/api/MinusCredit",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/WebC/api/DrlWeek",method:"get",params:e})}function f(e){return Object(n["a"])({url:"/WebC/api/GetAgentSum",method:"get",params:e})}function m(e){return Object(n["a"])({url:"/WebC/api/GetAgentPlayerSum",method:"get",params:e})}function g(e){return Object(n["a"])({url:"/WebC/api/GetMemberTxn",method:"get",params:e})}function h(e){return Object(n["a"])({url:"/WebC/api/GetAgentProfit",method:"get",params:e})}function w(e){return Object(n["a"])({url:"/WebC/api/DrlMemberType",method:"get",params:e})}function C(e){return Object(n["a"])({url:"/WebC/api/GetAdminPlayerSum",method:"get",params:e})}},e10f:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"downline app-container"},[r("div",{staticClass:"flex-box"},[r("div",{staticClass:"item"},[r("el-input",{attrs:{placeholder:"输入关键字搜索"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"filterTable",attrs:{data:e.downlineList.filter((function(t){return!e.search||t.userCode.toLowerCase().includes(e.search.toLowerCase())||t.userName.toLowerCase().includes(e.search.toLowerCase())||t.inviteCode.toLowerCase().includes(e.search.toLowerCase())||t.creditLimit.toLowerCase().includes(e.search.toLowerCase())||t.turnoverRebate.toLowerCase().includes(e.search.toLowerCase())||t.profitRebate.toLowerCase().includes(e.search.toLowerCase())||t.userType.toLowerCase().includes(e.search.toLowerCase())})),"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":"","default-sort":{prop:"userName",order:"descending"}}},[r("el-table-column",{attrs:{label:"下线 ID",align:"center",fixed:"left",prop:"userCode","sort-by":"userCode",sortable:""}}),r("el-table-column",{attrs:{label:"下线名",align:"center",prop:"userName","sort-by":"userName",sortable:""}}),r("el-table-column",{attrs:{label:"邀请码",align:"center",prop:"inviteCode","sort-by":"inviteCode",sortable:""}}),r("el-table-column",{attrs:{"class-name":"status-col",label:"信用额度",align:"center",prop:"creditLimit","sort-by":"creditLimit",sortable:""}}),r("el-table-column",{attrs:{"class-name":"status-col",label:"流水佣金%",align:"center",prop:"turnoverRebate","sort-by":"turnoverRebate",sortable:""}}),r("el-table-column",{attrs:{"class-name":"status-col",label:"盈利佣金%",align:"center",prop:"profitRebate","sort-by":"profitRebate",sortable:""}}),r("el-table-column",{attrs:{"class-name":"status-col",label:"类型",align:"center",prop:"userType","sort-by":"userType",sortabl:""}}),r("el-table-column",{attrs:{align:"center",label:"操作","min-width":"200px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",disabled:"N"!==t.row.robotInd},on:{click:function(r){return e.openEdit(t.row.gnuserId)}}}),r("el-button",{attrs:{type:"primary",icon:"el-icon-more",circle:"",disabled:"N"!==t.row.cashInd},on:{click:function(r){return e.moreInfo(t.row.appUserId)}}})]}}])})],1),r("el-dialog",{attrs:{title:"收货地址",visible:e.dialogMoreVisible},on:{"update:visible":function(t){e.dialogMoreVisible=t}}},[r("el-table",{attrs:{data:e.currentDown}},[r("el-table-column",{attrs:{property:"date",label:"日期",width:"150"}}),r("el-table-column",{attrs:{property:"name",label:"姓名",width:"200"}}),r("el-table-column",{attrs:{property:"address",label:"地址"}})],1)],1),r("el-dialog",{attrs:{title:"修改 Edit",visible:e.dialogEditVisible},on:{"update:visible":function(t){e.dialogEditVisible=t},close:e.closeEdit}},[r("el-form",{attrs:{model:e.currentDown}},[r("el-form-item",{attrs:{label:"流水佣金 %","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.currentDown.turnoverRebate,callback:function(t){e.$set(e.currentDown,"turnoverRebate",t)},expression:"currentDown.turnoverRebate"}})],1),r("el-form-item",{attrs:{label:"盈利佣金 %","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.currentDown.profitRebate,callback:function(t){e.$set(e.currentDown,"profitRebate",t)},expression:"currentDown.profitRebate"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeEdit}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.editRebate}},[e._v("确 定")])],1)],1)],1)},o=[],a=(r("4de4"),r("d3b7"),r("ac1f"),r("00b4"),r("c24f")),i={name:"downline",data:function(){return{listLoading:!1,downlineList:[],currentDown:{},dialogMoreVisible:!1,dialogEditVisible:!1,formLabelWidth:"120px",search:""}},created:function(){this.getList()},components:{},methods:{getList:function(){var e=this;this.listLoading=!0,Object(a["f"])().then((function(t){console.log(t),e.downlineList=t.data,e.listLoading=!1})).catch((function(t){e.listLoading=!1,console.log(t)}))},downlineByID:function(e){var t;this.currentDown=null===(t=this.downlineList.filter((function(t){return t.gnuserId==e})))||void 0===t?void 0:t[0],console.log(this.currentDown)},moreInfo:function(e){this.dialogMoreVisible=!0,console.log(e)},openEdit:function(e){this.dialogEditVisible=!0,this.downlineByID(e)},editRebate:function(){var e=this;if(/^([0-9]{1,2}$)|(^[0-9]{1,2}\.[0-9]{1,2}$)|100$/.test(this.currentDown.turnoverRebate)&&/^([0-9]{1,2}$)|(^[0-9]{1,2}\.[0-9]{1,2}$)|100$/.test(this.currentDown.profitRebate)){var t=this.currentDown,r=t.gnuserId,n=t.turnoverRebate,o=t.profitRebate;console.log({gnuserId:r,turnoverRebate:n,profitRebate:o}),Object(a["o"])({gnuserId:r,turnoverRebate:n,profitRebate:o}).then((function(t){var r;"Failed"==(null===(r=t.data)||void 0===r?void 0:r.status)?e.$message({type:"error",message:t.data.remark}):e.$message({type:"success",message:"编辑成功"}),e.closeEdit()})).catch((function(e){console.log(e)}))}else this.$message({type:"info",message:"流水佣金与盈利佣金皆为0到100之间最多允许包含2位小数"})},closeEdit:function(){this.dialogEditVisible=!1,this.getList()}}},l=i,s=(r("8190"),r("2877")),u=Object(s["a"])(l,n,o,!1,null,"5494603e",null);t["default"]=u.exports}}]);