(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46553eb0"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"17ad":function(e,t,r){},7931:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"flex-box"},[r("div",{staticClass:"item"},[r("el-input",{attrs:{placeholder:e.$t("InputTip.SearchKey")},on:{input:e.searchTable},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"filterTable",attrs:{data:e.temList.filter((function(t){return!e.search||t.userCode.toLowerCase().includes(e.search.toLowerCase())||t.userName.toLowerCase().includes(e.search.toLowerCase())||t.userRemark.toLowerCase().includes(e.search.toLowerCase())||t.creditLimit.toLowerCase().includes(e.search.toLowerCase())||t.turnoverRebate.toLowerCase().includes(e.search.toLowerCase())||t.turnoverRebateFb.toLowerCase().includes(e.search.toLowerCase())||t.profitRebate.toLowerCase().includes(e.search.toLowerCase())||t.loginInd.toLowerCase().includes(e.search.toLowerCase())||t.userType.toLowerCase().includes(e.search.toLowerCase())})),"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":"","default-sort":{prop:"",order:""}}},[r("el-table-column",{attrs:{label:e.$t("UserCode"),align:"center",sortable:"",prop:"userCode","sort-by":"userCode"}}),r("el-table-column",{attrs:{label:e.$t("UserName"),align:"center",sortable:"",prop:"userName"}}),r("el-table-column",{attrs:{label:e.$t("NoteName"),align:"center",sortable:"",prop:"userRemark"}}),r("el-table-column",{attrs:{"class-name":"status-col",label:e.$t("CreditLimit"),align:"center",sortable:"",prop:"creditLimit","sort-by":"creditLimit"}}),r("el-table-column",{attrs:{"class-name":"status-col",label:e.$t("TurnoverRebate"),align:"center",sortable:"",prop:"turnoverRebate","sort-by":"turnoverRebate"}}),r("el-table-column",{attrs:{"class-name":"status-col",label:e.$t("TurnoverRebateFb"),align:"center",sortable:"",prop:"turnoverRebateFb","sort-by":"turnoverRebateFb"}}),r("el-table-column",{attrs:{"class-name":"status-col",label:e.$t("ProfitRebate"),align:"center",sortable:"",prop:"profitRebate","sort-by":"profitRebate"}}),r("el-table-column",{attrs:{"class-name":"status-col",label:e.$t("UserType"),align:"center",sortable:"",prop:"userType","sort-by":"userType"}}),r("el-table-column",{attrs:{"class-name":"status-col",label:e.$t("ProxyLogin"),align:"center",sortable:"",prop:"loginInd","sort-by":"loginInd"}}),r("el-table-column",{attrs:{align:"center",label:e.$t("Operation"),fixed:"right",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"but_box"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",disabled:"N"!==t.row.robotInd},on:{click:function(r){return e.openEdit(t.row.gnuserId)}}}),r("el-button",{attrs:{type:"primary",icon:"el-icon-top",circle:"",disabled:"N"!==t.row.cashInd},on:{click:function(r){return e.openAddCredit(t.row.gnuserId)}}}),r("el-button",{attrs:{type:"danger",icon:"el-icon-bottom",circle:"",disabled:"N"!==t.row.cashInd},on:{click:function(r){return e.openMinusCredit(t.row.gnuserId)}}})],1)]}}])})],1),r("div",{staticClass:"page"},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),r("el-dialog",{attrs:{title:e.$t("Edit"),visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.closeEdit}},[r("el-form",{attrs:{model:e.currentMember}},[r("el-form-item",{attrs:{label:e.$t("NoteName"),"label-width":e.formLabelWidth}},[r("el-input",{attrs:{maxlength:"45"},model:{value:e.currentMember.userRemark,callback:function(t){e.$set(e.currentMember,"userRemark",t)},expression:"currentMember.userRemark"}})],1),r("el-form-item",{attrs:{label:e.$t("TurnoverRebate"),"label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.currentMember.turnoverRebate,callback:function(t){e.$set(e.currentMember,"turnoverRebate",t)},expression:"currentMember.turnoverRebate"}})],1),r("el-form-item",{attrs:{label:e.$t("ProfitRebate"),"label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.currentMember.profitRebate,callback:function(t){e.$set(e.currentMember,"profitRebate",t)},expression:"currentMember.profitRebate"}})],1),r("el-form-item",{attrs:{label:e.$t("TurnoverRebateFb"),"label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.currentMember.turnoverRebateFb,callback:function(t){e.$set(e.currentMember,"turnoverRebateFb",t)},expression:"currentMember.turnoverRebateFb"}})],1),r("el-form-item",{attrs:{label:e.$t("ProxyLogin"),"label-width":e.formLabelWidth}},[[r("el-radio",{attrs:{label:"Yes"},model:{value:e.currentMember.loginInd,callback:function(t){e.$set(e.currentMember,"loginInd",t)},expression:"currentMember.loginInd"}},[e._v("Yes")]),r("el-radio",{attrs:{label:"No"},model:{value:e.currentMember.loginInd,callback:function(t){e.$set(e.currentMember,"loginInd",t)},expression:"currentMember.loginInd"}},[e._v("No")])]],2)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeEdit}},[e._v(e._s(e.$t("Cancel")))]),r("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.butLoading,expression:"butLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:e.editMember}},[e._v(e._s(e.$t("Determine")))])],1)],1),r("el-dialog",{attrs:{title:e.$t("AddCreditLimit"),visible:e.dialogFormVisibleAdd},on:{"update:visible":function(t){e.dialogFormVisibleAdd=t},close:e.closeAddCredit}},[r("el-form",{attrs:{model:e.currentMember}},[r("el-form-item",{attrs:{label:e.$t("AddCreditLimit"),"label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.credit,callback:function(t){e.credit=t},expression:"credit"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeAddCredit}},[e._v(e._s(e.$t("Cancel")))]),r("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.butLoading,expression:"butLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:e.addCredit}},[e._v(e._s(e.$t("Determine")))])],1)],1),r("el-dialog",{attrs:{title:e.$t("ReductionCreditLimit"),visible:e.dialogFormVisibleMinus},on:{"update:visible":function(t){e.dialogFormVisibleMinus=t},close:e.closeMinusCredit}},[r("el-form",{attrs:{model:e.currentMember}},[r("el-form-item",{attrs:{label:e.$t("ReductionCreditLimit"),"label-width":"140px"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.credit,callback:function(t){e.credit=t},expression:"credit"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeMinusCredit}},[e._v(e._s(e.$t("Cancel")))]),r("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.butLoading,expression:"butLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:e.minusCredit}},[e._v(e._s(e.$t("Determine")))])],1)],1)],1)},a=[],s=(r("ac1f"),r("841c"),r("fb6a"),r("4de4"),r("d3b7"),r("caad"),r("2532"),r("00b4"),r("b775"));function o(){return Object(s["a"])({url:"/WebC/api/Senior",method:"get"})}function n(e){return Object(s["a"])({url:"/WebC/api/UpdateSeniorRebate",method:"post",data:e})}function l(e){return Object(s["a"])({url:"/WebC/api/AddSeniorCredit",method:"post",data:e})}function c(e){return Object(s["a"])({url:"/WebC/api/MinusSeniorCredit",method:"post",data:e})}var u={name:"seniorMember",filters:{statusFilter:function(e){var t={published:"success",draft:"gray",deleted:"danger"};return t[e]}},data:function(){return{list:[],credit:"",currentMember:{},listLoading:!1,butLoading:!1,dialogFormVisible:!1,dialogFormVisibleAdd:!1,dialogFormVisibleMinus:!1,formLabelWidth:"140px",memberList:[],temList:[],currentPage:1,totalCount:1,pageSizes:[5,10,20,30],PageSize:10,count:{},search:"",searchList:[]}},created:function(){this.fetchData()},methods:{handleSizeChange:function(e){this.PageSize=e,this.currentPage=1,this.search?this.searchTable():this.getTemList()},handleCurrentChange:function(e){this.currentPage=e,this.search?this.searchTable():this.getTemList()},getTemList:function(){this.temList=this.list.slice((this.currentPage-1)*this.PageSize,this.currentPage*this.PageSize)},searchTable:function(){var e=this;""==this.search?this.totalCount=this.list.length:(this.searchList=this.list.filter((function(t){return!e.search||t.userCode.toLowerCase().includes(e.search.toLowerCase())||t.userName.toLowerCase().includes(e.search.toLowerCase())||t.userRemark.toLowerCase().includes(e.search.toLowerCase())||t.creditLimit.toLowerCase().includes(e.search.toLowerCase())||t.turnoverRebate.toLowerCase().includes(e.search.toLowerCase())||t.turnoverRebateFb.toLowerCase().includes(e.search.toLowerCase())||t.profitRebate.toLowerCase().includes(e.search.toLowerCase())||t.loginInd.toLowerCase().includes(e.search.toLowerCase())||t.userType.toLowerCase().includes(e.search.toLowerCase())})),this.totalCount=this.searchList.length,this.currentPage=1,this.temList=this.searchList.slice((this.currentPage-1)*this.PageSize,this.currentPage*this.PageSize))},fetchData:function(){var e=this;this.listLoading=!0,this.search="",this.currentPage=1,o().then((function(t){e.list=t.data,e.totalCount=t.data.length,e.getTemList(),e.listLoading=!1})).catch((function(t){e.listLoading=!1}))},memberByID:function(e){var t;this.currentMember=null===(t=this.list.filter((function(t){return t.gnuserId===e})))||void 0===t?void 0:t[0]},openEdit:function(e){this.dialogFormVisible=!0,this.memberByID(e)},editMember:function(){var e=this;if(this.butLoading=!0,/^(0\.\d{0,1}[0-9]|\+?[0-9][0-9]{0,2})(\.\d{1,2})?$/.test(this.currentMember.turnoverRebate)&&/^(0\.\d{0,1}[0-9]|\+?[0-9][0-9]{0,2})(\.\d{1,2})?$/.test(this.currentMember.profitRebate)&&/^(0\.\d{0,1}[0-9]|\+?[0-9][0-9]{0,2})(\.\d{1,2})?$/.test(this.currentMember.turnoverRebateFb)){var t=this.currentMember,r=t.userRemark,i=t.turnoverRebateFb,a=t.loginInd,s=t.gnuserId,o=t.turnoverRebate,l=t.profitRebate;n({userRemark:r,turnoverRebateFb:i,loginInd:a,gnuserId:s,turnoverRebate:o,profitRebate:l}).then((function(t){e.butLoading=!1,"Success"==t.data.status&&""==t.data.remark?(e.$message({type:"success",message:"success"}),e.closeEdit()):(e.$message({type:"error",message:t.data.remark||"error"}),e.butLoading=!1)})).catch((function(e){}))}else this.butLoading=!1,this.$message({type:"info",message:this.$t("MessageTip.ProfitsTip")})},closeEdit:function(){this.dialogFormVisible=!1,this.fetchData()},openAddCredit:function(e){this.dialogFormVisibleAdd=!0,this.memberByID(e)},addCredit:function(){var e=this;this.butLoading=!0;var t=this.currentMember.gnuserId;/^(0\.\d{0,1}[1-9]|\+?[1-9][0-9]{0,6})(\.\d{1,2})?$/.test(this.credit)?l({gnuserId:t,credit:this.credit}).then((function(t){e.butLoading=!1,"Success"==t.data.status&&""==t.data.remark?(e.$message({type:"success",message:"success"}),e.closeAddCredit()):e.$message({type:"info",message:t.data.remark||"error"})})).catch((function(t){e.butLoading=!1})):(this.butLoading=!1,this.$message({type:"info",message:this.$t("MessageTip.CreditLimitTip")}))},closeAddCredit:function(){this.dialogFormVisibleAdd=!1,this.credit="",this.fetchData()},openMinusCredit:function(e){this.dialogFormVisibleMinus=!0,this.memberByID(e)},minusCredit:function(){var e=this;this.butLoading=!0;var t=this.currentMember.gnuserId;/^(0\.\d{0,1}[1-9]|\+?[1-9][0-9]{0,6})(\.\d{1,2})?$/.test(this.credit)?c({gnuserId:t,credit:this.credit}).then((function(t){e.butLoading=!1,"Success"==t.data.status&&""==t.data.remark?(e.$message({type:"success",message:"success"}),e.closeMinusCredit()):e.$message({type:"info",message:t.data.remark||"error"}),e.butLoading=!1,e.fetchData()})).catch((function(t){e.butLoading=!1})):(this.butLoading=!1,this.$message({type:"info",message:this.$t("MessageTip.CreditLimitTip")}))},closeMinusCredit:function(){this.dialogFormVisibleMinus=!1,this.credit=""}}},d=u,b=(r("a380"),r("2877")),m=Object(b["a"])(d,i,a,!1,null,"7710474e",null);t["default"]=m.exports},"841c":function(e,t,r){"use strict";var i=r("d784"),a=r("825a"),s=r("1d80"),o=r("129f"),n=r("14c3");i("search",1,(function(e,t,r){return[function(t){var r=s(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,r):new RegExp(t)[e](String(r))},function(e){var i=r(t,e,this);if(i.done)return i.value;var s=a(e),l=String(this),c=s.lastIndex;o(c,0)||(s.lastIndex=0);var u=n(s,l);return o(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]}))},a380:function(e,t,r){"use strict";r("17ad")}}]);